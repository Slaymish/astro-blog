---
// Scroll Progress Indicator
---

<div id="scroll-progress"></div>

<style>
  #scroll-progress {
    position: fixed;
    top: 0;
    left: 0;
    width: 0%;
    height: 3px;
    background: linear-gradient(90deg, var(--color-primary-500), var(--color-primary-300));
    z-index: 1000;
    transition: width 0.1s ease;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  }
  
  #scroll-progress::after {
    content: '';
    position: absolute;
    right: 0;
    top: 0;
    width: 10px;
    height: 100%;
    background: var(--color-primary-300);
    border-radius: 0 2px 2px 0;
    box-shadow: 0 0 6px var(--color-primary-500);
  }
</style>

<script is:inline>
  function initScrollProgress() {
    const progressBar = document.getElementById('scroll-progress');
    
    function updateProgress() {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
      const progress = (scrollTop / scrollHeight) * 100;
      
      if (progressBar) {
        progressBar.style.width = Math.min(progress, 100) + '%';
      }
    }
    
    window.addEventListener('scroll', updateProgress, { passive: true });
    updateProgress(); // Initial call
  }
  
  // Initialize when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initScrollProgress);
  } else {
    initScrollProgress();
  }
</script>
