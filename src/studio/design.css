/**
 * Studio Design System
 * Isolated CSS layer for the philosophy section
 * Self-contained tokens: no global style dependencies
 */

@layer studio {
  /* ========================================
     PALETTE DEFINITIONS
     Each essay can specify a palette
     ======================================== */
  
  .studio-palette-noir {
    --studio-bg-primary: #0a0a0a;
    --studio-bg-secondary: #121212;
    --studio-bg-tertiary: #1a1a1a;
    --studio-text-primary: #e8e8e8;
    --studio-text-secondary: #b8b8b8;
    --studio-text-muted: #888888;
    --studio-accent: #d4d4d4;
    --studio-accent-dim: #666666;
    --studio-border: #2a2a2a;
  }

  .studio-palette-sepia {
    --studio-bg-primary: #1a1612;
    --studio-bg-secondary: #221f1a;
    --studio-bg-tertiary: #2a2520;
    --studio-text-primary: #e8dcc8;
    --studio-text-secondary: #c8bca8;
    --studio-text-muted: #9a8870;
    --studio-accent: #d4c4a8;
    --studio-accent-dim: #7a6e58;
    --studio-border: #3a3128;
  }

  .studio-palette-forest {
    --studio-bg-primary: #0d120f;
    --studio-bg-secondary: #141a16;
    --studio-bg-tertiary: #1a221d;
    --studio-text-primary: #d8e8dd;
    --studio-text-secondary: #b8c8bd;
    --studio-text-muted: #889888;
    --studio-accent: #a8d8b8;
    --studio-accent-dim: #4a6a54;
    --studio-border: #253028;
  }

  .studio-palette-ocean {
    --studio-bg-primary: #0a0e12;
    --studio-bg-secondary: #12161a;
    --studio-bg-tertiary: #1a1e22;
    --studio-text-primary: #d8e4e8;
    --studio-text-secondary: #b8c4c8;
    --studio-text-muted: #88949a;
    --studio-accent: #a8c4d8;
    --studio-accent-dim: #4a6070;
    --studio-border: #252d30;
  }

  .studio-palette-ember {
    --studio-bg-primary: #120a08;
    --studio-bg-secondary: #1a1210;
    --studio-bg-tertiary: #221a18;
    --studio-text-primary: #e8d8d4;
    --studio-text-secondary: #c8b8b4;
    --studio-text-muted: #98888a;
    --studio-accent: #d8a8a4;
    --studio-accent-dim: #704a48;
    --studio-border: #302520;
  }

  /* ========================================
     TYPOGRAPHY
     High legibility, literary scale
     ======================================== */
  
  .studio-root {
    /* Base */
    --studio-font-sans: ui-sans-serif, system-ui, -apple-system, sans-serif;
    --studio-font-serif: 'Iowan Old Style', 'Palatino Linotype', 'URW Palladio L', P052, serif;
    --studio-font-mono: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, monospace;
    
    /* Type scale */
    --studio-text-xs: 0.75rem;      /* 12px */
    --studio-text-sm: 0.875rem;     /* 14px */
    --studio-text-base: 1rem;       /* 16px */
    --studio-text-lg: 1.125rem;     /* 18px */
    --studio-text-xl: 1.25rem;      /* 20px */
    --studio-text-2xl: 1.5rem;      /* 24px */
    --studio-text-3xl: 1.875rem;    /* 30px */
    --studio-text-4xl: 2.25rem;     /* 36px */
    --studio-text-5xl: 3rem;        /* 48px */
    
    /* Line heights */
    --studio-leading-tight: 1.25;
    --studio-leading-snug: 1.375;
    --studio-leading-normal: 1.5;
    --studio-leading-relaxed: 1.625;
    --studio-leading-loose: 1.75;
    
    /* Letter spacing */
    --studio-tracking-tight: -0.025em;
    --studio-tracking-normal: 0;
    --studio-tracking-wide: 0.025em;
    --studio-tracking-wider: 0.05em;
  }

  /* ========================================
     SPACING
     Consistent rhythm
     ======================================== */
  
  .studio-root {
    --studio-space-1: 0.25rem;   /* 4px */
    --studio-space-2: 0.5rem;    /* 8px */
    --studio-space-3: 0.75rem;   /* 12px */
    --studio-space-4: 1rem;      /* 16px */
    --studio-space-5: 1.25rem;   /* 20px */
    --studio-space-6: 1.5rem;    /* 24px */
    --studio-space-8: 2rem;      /* 32px */
    --studio-space-10: 2.5rem;   /* 40px */
    --studio-space-12: 3rem;     /* 48px */
    --studio-space-16: 4rem;     /* 64px */
    --studio-space-20: 5rem;     /* 80px */
    --studio-space-24: 6rem;     /* 96px */
    --studio-space-32: 8rem;     /* 128px */
  }

  /* ========================================
     MOTION PRIMITIVES
     Slow and meaningful
     ======================================== */
  
  .studio-root {
    --studio-duration-instant: 0ms;
    --studio-duration-fast: 150ms;
    --studio-duration-normal: 300ms;
    --studio-duration-slow: 500ms;
    --studio-duration-slower: 800ms;
    --studio-duration-slowest: 1200ms;
    
    --studio-ease-linear: linear;
    --studio-ease-in: cubic-bezier(0.4, 0, 1, 1);
    --studio-ease-out: cubic-bezier(0, 0, 0.2, 1);
    --studio-ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
    --studio-ease-elastic: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --studio-ease-smooth: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  /* Motion profiles */
  .studio-motion-subtle {
    --studio-motion-duration: var(--studio-duration-normal);
    --studio-motion-ease: var(--studio-ease-out);
  }

  .studio-motion-moderate {
    --studio-motion-duration: var(--studio-duration-slow);
    --studio-motion-ease: var(--studio-ease-smooth);
  }

  .studio-motion-expressive {
    --studio-motion-duration: var(--studio-duration-slower);
    --studio-motion-ease: var(--studio-ease-elastic);
  }

  /* ========================================
     BASE STYLES
     Reset and foundation
     ======================================== */
  
  .studio-root {
    font-family: var(--studio-font-serif);
    font-size: var(--studio-text-lg);
    line-height: var(--studio-leading-relaxed);
    color: var(--studio-text-primary);
    background-color: var(--studio-bg-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  .studio-root *,
  .studio-root *::before,
  .studio-root *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  /* ========================================
     TYPOGRAPHY ELEMENTS
     ======================================== */

  .studio-prose h1,
  .studio-prose h2,
  .studio-prose h3 {
    font-family: var(--studio-font-sans);
    font-weight: 600;
    letter-spacing: var(--studio-tracking-tight);
    color: var(--studio-text-primary);
  }

  .studio-prose h1 {
    font-size: var(--studio-text-4xl);
    line-height: var(--studio-leading-tight);
    margin-top: var(--studio-space-16);
    margin-bottom: var(--studio-space-8);
  }

  .studio-prose h2 {
    font-size: var(--studio-text-2xl);
    line-height: var(--studio-leading-snug);
    margin-top: var(--studio-space-12);
    margin-bottom: var(--studio-space-6);
  }

  .studio-prose h3 {
    font-size: var(--studio-text-xl);
    line-height: var(--studio-leading-normal);
    margin-top: var(--studio-space-8);
    margin-bottom: var(--studio-space-4);
  }

  .studio-prose p {
    margin-bottom: var(--studio-space-6);
    max-width: 65ch;
  }

  .studio-prose a {
    color: var(--studio-accent);
    text-decoration: none;
    border-bottom: 1px solid var(--studio-accent-dim);
    transition: border-color var(--studio-motion-duration) var(--studio-motion-ease);
  }

  .studio-prose a:hover {
    border-bottom-color: var(--studio-accent);
  }

  .studio-prose a:focus-visible {
    outline: 2px solid var(--studio-accent);
    outline-offset: 3px;
    border-radius: 2px;
  }

  .studio-prose blockquote {
    border-left: 3px solid var(--studio-accent-dim);
    padding-left: var(--studio-space-6);
    margin: var(--studio-space-8) 0;
    font-style: italic;
    color: var(--studio-text-secondary);
  }

  .studio-prose code {
    font-family: var(--studio-font-mono);
    font-size: var(--studio-text-sm);
    background-color: var(--studio-bg-tertiary);
    padding: 0.125rem 0.375rem;
    border-radius: 3px;
    color: var(--studio-text-primary);
  }

  .studio-prose pre {
    background-color: var(--studio-bg-tertiary);
    padding: var(--studio-space-4);
    border-radius: 4px;
    overflow-x: auto;
    margin: var(--studio-space-6) 0;
  }

  .studio-prose pre code {
    background: none;
    padding: 0;
  }

  .studio-prose ul,
  .studio-prose ol {
    margin: var(--studio-space-6) 0;
    padding-left: var(--studio-space-8);
  }

  .studio-prose li {
    margin-bottom: var(--studio-space-2);
  }

  .studio-prose hr {
    border: none;
    border-top: 1px solid var(--studio-border);
    margin: var(--studio-space-12) 0;
  }

  /* ========================================
     REDUCED MOTION
     ======================================== */
  
  @media (prefers-reduced-motion: reduce) {
    .studio-root *,
    .studio-root *::before,
    .studio-root *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* ========================================
     FOCUS STYLES
     High visibility
     ======================================== */
  
  .studio-root :focus-visible {
    outline: 2px solid var(--studio-accent);
    outline-offset: 2px;
  }

  .studio-root button:focus-visible,
  .studio-root a:focus-visible {
    outline-offset: 3px;
  }
}
